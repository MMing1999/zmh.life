---
layout: layouts/base.njk
---

{# =============================
   layouts/reading.njk
   说明：
   - 继承全局骨架 layouts/base.njk
   - 专门用于"阅读详情页"的布局
   - 样式：使用 /assets/Css/reading.css
   - 适用于读书笔记的详情页面
   ============================= #}

{# 添加reading专用CSS #}
<link rel="stylesheet" href="{{ '/assets/Css/reading.css' | url }}">

<article class="reading" itemscope itemtype="https://schema.org/Book">

  {# 1) 书籍封面 #}
  {% if cover %}
    <figure class="reading-hero">
      <img src="{{ cover | url }}" alt="{{ title }}" itemprop="image">
    </figure>
  {% endif %}

  {# 2) 书籍信息 #}
  <header class="reading-header">
    {% if title %}
      <h1 class="reading-title" itemprop="name">{{ title }}</h1>
    {% endif %}

    {% if author %}
      <p class="reading-author" itemprop="author">{{ author }}</p>
    {% endif %}

    {% if rating %}
      <div class="reading-rating">
        {% for i in range(1, 6) %}
          <span class="star">{{ "★" if i <= rating else "☆" }}</span>
        {% endfor %}
        <span class="rating-text">{{ rating }}/5</span>
      </div>
    {% endif %}

    {# 3) 元信息：发布日期 / 分类 / 标签 #}
    <div class="reading-meta">
      {% if page.date %}
        <div class="reading-line">
          <span class="label">阅读日期：</span>
          <time class="value" itemprop="datePublished">{{ page.date | fmtDate }}</time>
        </div>
      {% endif %}

      {% if category %}
        <div class="reading-line">
          <span class="label">分类:</span>
          <span class="value">
            <span class="chip">{{ category }}</span>
          </span>
        </div>
      {% endif %}

      {% if tags and tags.length %}
        <div class="reading-line">
          <span class="label">标签:</span>
          <span class="value tag-list" itemprop="keywords">
            {% for t in tags %}
              <span class="tag">#{{ t }}</span>
            {% endfor %}
          </span>
        </div>
      {% endif %}
    </div>

    <div class="reading-divider"></div>
  </header>

  {# 4) 读书笔记内容 #}
  <section class="reading-body" itemprop="description">
    {{ content | safe }}
  </section>

  {# 5) 底部返回 #}
  <div class="reading-back">
    <a class="link-back" href="{{ '/zhi/reading/' | url }}">← 返回「知 · Reading」</a>
  </div>
</article>
